<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AyPi - Ferie e Permessi</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css">
    <link rel="stylesheet" href="../../styles/utilities/ferie-permessi-style.css">
</head>

<body>
    <div class="fp-page">
        <header class="fp-header">
            <div>
                <h1>Ferie e Permessi</h1>
                <p>Gestione richieste e calendario assenze</p>
            </div>
            <div class="fp-header__actions">
                <div id="fp-summary" class="fp-summary">...</div>
                <div class="fp-legend" id="fp-legend">
                    <span class="fp-legend__item"><span class="fp-legend__dot fp-legend__dot--ferie"></span>Ferie</span>
                    <span class="fp-legend__item"><span class="fp-legend__dot fp-legend__dot--permesso"></span>Permessi</span>
                    <span class="fp-legend__item"><span class="fp-legend__dot fp-legend__dot--straordinari"></span>Straordinari</span>
                </div>
                <button type="button" class="fp-btn" id="fp-refresh">Aggiorna</button>
            </div>
        </header>

        <main class="fp-body">
            <section class="fp-panel">
                <div class="fp-card fp-card--pending">
                    <button type="button" class="fp-btn fp-btn--pending" id="fp-pending-toggle" aria-expanded="false">
                        <span class="fp-btn__icon-group" aria-hidden="true">
                            <span class="fp-btn__icon">
                                <svg viewBox="0 0 24 24" class="fp-bell" focusable="false" aria-hidden="true">
                                    <path d="M12 22a2 2 0 0 0 2-2h-4a2 2 0 0 0 2 2Zm7-6V11a7 7 0 0 0-5-6.71V3a2 2 0 1 0-4 0v1.29A7 7 0 0 0 5 11v5l-2 2v1h18v-1l-2-2Z"></path>
                                </svg>
                            </span>
                            <span id="fp-pending-badge" class="fp-badge fp-badge--inline">0</span>
                        </span>
                        <span class="fp-btn__label">Richieste in attesa</span>
                    </button>
                    <button type="button" class="fp-btn fp-btn--pending fp-btn--manage" id="fp-assignees-manage">
                        <span class="fp-btn__icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" class="fp-icon" focusable="false" aria-hidden="true">
                                <path d="M16 11a4 4 0 1 0-3.99-4A4 4 0 0 0 16 11Zm-8 0a3 3 0 1 0-2.99-3A3 3 0 0 0 8 11Zm0 2c-2.67 0-8 1.34-8 4v2h10.5a6.45 6.45 0 0 1-.5-2.5 5.5 5.5 0 0 1 .66-2.5Zm8 0a5.5 5.5 0 0 0-5.5 5.5 6.5 6.5 0 0 0 .06.5H24v-2c0-2.66-5.33-4-8-4Z"></path>
                            </svg>
                        </span>
                        <span class="fp-btn__label">Gestisci dipendenti</span>
                    </button>
                    <button type="button" class="fp-btn fp-btn--pending fp-btn--manage" id="fp-export-open">
                        <span class="fp-btn__icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" class="fp-icon" focusable="false" aria-hidden="true">
                                <path d="M5 20h14v-2H5v2Zm7-18-5.5 5.5 1.41 1.41L11 6.83V16h2V6.83l3.09 3.08 1.41-1.41L12 2Z"></path>
                            </svg>
                        </span>
                        <span class="fp-btn__label">Esporta ferie/permessi</span>
                    </button>
                </div>
                <form id="fp-request-form" class="fp-card">
                    <h2>Nuova richiesta</h2>
                    <div class="fp-field">
                        <label for="fp-department">Reparto</label>
                        <select id="fp-department"></select>
                    </div>
                    <div class="fp-field">
                        <label for="fp-employee">Dipendente</label>
                        <select id="fp-employee"></select>
                    </div>
                    <div class="fp-field">
                        <label for="fp-type">Tipo</label>
                        <select id="fp-type">
                            <option value="ferie">Ferie</option>
                            <option value="permesso">Permesso</option>
                            <option value="straordinari">Straordinari</option>
                        </select>
                    </div>
                    <div class="fp-field fp-checkbox">
                        <input type="checkbox" id="fp-all-day">
                        <label for="fp-all-day">Giornata intera</label>
                    </div>
                    <div class="fp-grid">
                        <div class="fp-field">
                            <label for="fp-start-date">Data inizio</label>
                            <input type="date" id="fp-start-date" required>
                        </div>
                        <div class="fp-field">
                            <label for="fp-start-time">Ora inizio</label>
                            <input type="time" id="fp-start-time" value="08:00">
                        </div>
                        <div class="fp-field">
                            <label for="fp-end-date">Data fine</label>
                            <input type="date" id="fp-end-date" required>
                        </div>
                        <div class="fp-field">
                            <label for="fp-end-time">Ora fine</label>
                            <input type="time" id="fp-end-time" value="17:30">
                        </div>
                    </div>
                    <div id="fp-end-date-error" class="fp-inline-error is-hidden"></div>
                    <div class="fp-field">
                        <label for="fp-note">Note</label>
                        <textarea id="fp-note" rows="3" placeholder="Inserisci eventuali dettagli"></textarea>
                    </div>
                    <div class="fp-actions">
                        <button type="button" class="fp-btn fp-btn--primary" id="fp-request-save">Salva</button>
                    </div>
                    <div id="fp-form-message" class="fp-message is-hidden"></div>
                </form>

            </section>

            <section class="fp-calendar">
                <div id="fp-calendar"></div>
            </section>
        </main>
    </div>

    <div class="fp-pending-flyout" id="fp-pending-panel" aria-hidden="true">
        <div class="fp-pending-flyout__header">
            <h3>Richieste in attesa</h3>
            <button type="button" class="fp-btn fp-btn--ghost" id="fp-pending-close">Chiudi</button>
        </div>
        <div id="fp-pending-list" class="fp-pending-list"></div>
    </div>

    <div class="fp-modal is-hidden" id="fp-assignees-modal" aria-hidden="true">
        <div class="fp-modal__card fp-assignees-card" role="dialog" aria-modal="true" aria-labelledby="fp-assignees-title">
            <div class="fp-assignees-header">
                <h3 id="fp-assignees-title">Gestione dipendenti</h3>
                <button type="button" class="fp-btn fp-btn--ghost" id="fp-assignees-close">Chiudi</button>
            </div>
            <div class="fp-assignees-section">
                <div class="fp-assignees-subtitle">Reparti</div>
                <div class="fp-assignees-grid" id="fp-departments-list"></div>
                <div class="fp-assignees-form">
                    <input class="fp-field__input" id="fp-department-name" type="text" placeholder="Nuovo reparto">
                    <button type="button" class="fp-btn fp-btn--primary" id="fp-department-add">+</button>
                </div>
            </div>
            <div class="fp-assignees-section">
                <div class="fp-assignees-subtitle">Operatori</div>
                <div class="fp-assignees-grid" id="fp-employees-list"></div>
                <div class="fp-assignees-form fp-assignees-form--employee">
                    <select class="fp-field__input" id="fp-employee-department"></select>
                    <input class="fp-field__input" id="fp-employee-name" type="text" placeholder="Nome e cognome">
                    <button type="button" class="fp-btn fp-btn--primary" id="fp-employee-add">+</button>
                </div>
            </div>
        </div>
    </div>

    <div class="fp-modal is-hidden" id="fp-confirm-modal" aria-hidden="true">
        <div class="fp-modal__card fp-confirm-card" role="dialog" aria-modal="true" aria-labelledby="fp-confirm-title">
            <h3 id="fp-confirm-title">Conferma richiesta</h3>
            <p id="fp-confirm-message"></p>
            <div class="fp-actions fp-actions--modal">
                <button type="button" class="fp-btn fp-btn--ghost" id="fp-confirm-cancel">No</button>
                <button type="button" class="fp-btn fp-btn--primary" id="fp-confirm-ok">Si</button>
            </div>
        </div>
    </div>

    <div class="fp-modal is-hidden" id="fp-export-modal" aria-hidden="true">
        <div class="fp-modal__card fp-export-card" role="dialog" aria-modal="true" aria-labelledby="fp-export-title">
            <div class="fp-assignees-header">
                <h3 id="fp-export-title">Esporta ferie/permessi</h3>
                <button type="button" class="fp-btn fp-btn--ghost" id="fp-export-close">Chiudi</button>
            </div>
            <div class="fp-export-section">
                <div class="fp-assignees-subtitle">Periodo</div>
                <div class="fp-export-choice">
                    <label><input type="radio" name="fp-export-range" value="all" checked> Sempre</label>
                    <label><input type="radio" name="fp-export-range" value="custom"> Da - a</label>
                </div>
                <div class="fp-export-grid">
                    <div class="fp-field">
                        <label for="fp-export-start">Da</label>
                        <input class="fp-field__input" type="date" id="fp-export-start">
                    </div>
                    <div class="fp-field">
                        <label for="fp-export-end">A</label>
                        <input class="fp-field__input" type="date" id="fp-export-end">
                    </div>
                </div>
            </div>
            <div class="fp-export-section">
                <div class="fp-assignees-subtitle">Tipi</div>
                <div class="fp-export-choice">
                    <label><input type="checkbox" id="fp-export-ferie" checked> Ferie</label>
                    <label><input type="checkbox" id="fp-export-permessi" checked> Permessi</label>
                    <label><input type="checkbox" id="fp-export-straordinari" checked> Straordinari</label>
                </div>
            </div>
            <div class="fp-export-section">
                <div class="fp-assignees-subtitle">Reparti</div>
                <div class="fp-export-actions">
                    <button type="button" class="fp-btn fp-btn--ghost" id="fp-export-select-all">Tutti</button>
                    <button type="button" class="fp-btn fp-btn--ghost" id="fp-export-select-none">Nessuno</button>
                </div>
                <div id="fp-export-departments" class="fp-export-departments"></div>
            </div>
            <div class="fp-actions fp-actions--modal">
                <button type="button" class="fp-btn fp-btn--primary" id="fp-export-run">Esporta Excel</button>
            </div>
            <div id="fp-export-message" class="fp-message is-hidden"></div>
        </div>
    </div>

    <div class="fp-modal is-hidden" id="fp-approve-modal" aria-hidden="true">
        <div class="fp-modal__card" role="dialog" aria-modal="true" aria-labelledby="fp-approve-title">
            <h3 id="fp-approve-title">Approva richiesta</h3>
            <p id="fp-approve-desc">Inserisci la password per confermare.</p>
            <input type="password" id="fp-approve-password" placeholder="Password">
            <div id="fp-approve-error" class="fp-message fp-message--error is-hidden">Password errata.</div>
            <div class="fp-actions fp-actions--modal">
                <button type="button" class="fp-btn fp-btn--ghost" id="fp-approve-cancel">Annulla</button>
                <button type="button" class="fp-btn fp-btn--primary" id="fp-approve-confirm">Conferma</button>
            </div>
        </div>
    </div>

    <div class="fp-modal is-hidden" id="fp-edit-modal" aria-hidden="true">
        <div class="fp-modal__card" role="dialog" aria-modal="true" aria-labelledby="fp-edit-title">
            <h3 id="fp-edit-title">Modifica richiesta</h3>
            <form id="fp-edit-form" class="fp-card fp-card--modal">
                <div class="fp-field">
                    <label for="fp-edit-department">Reparto</label>
                    <select id="fp-edit-department"></select>
                </div>
                <div class="fp-field">
                    <label for="fp-edit-employee">Dipendente</label>
                    <select id="fp-edit-employee"></select>
                </div>
                <div class="fp-field">
                    <label for="fp-edit-type">Tipo</label>
                    <select id="fp-edit-type">
                        <option value="ferie">Ferie</option>
                        <option value="permesso">Permesso</option>
                        <option value="straordinari">Straordinari</option>
                    </select>
                </div>
                    <div class="fp-field fp-checkbox">
                        <input type="checkbox" id="fp-edit-all-day">
                    <label for="fp-edit-all-day">Giornata intera</label>
                </div>
                <div class="fp-grid">
                    <div class="fp-field">
                        <label for="fp-edit-start-date">Data inizio</label>
                        <input type="date" id="fp-edit-start-date" required>
                    </div>
                    <div class="fp-field">
                        <label for="fp-edit-start-time">Ora inizio</label>
                        <input type="time" id="fp-edit-start-time" value="08:00">
                    </div>
                    <div class="fp-field">
                        <label for="fp-edit-end-date">Data fine</label>
                        <input type="date" id="fp-edit-end-date" required>
                    </div>
                    <div class="fp-field">
                        <label for="fp-edit-end-time">Ora fine</label>
                        <input type="time" id="fp-edit-end-time" value="17:30">
                    </div>
                </div>
                <div class="fp-field">
                    <label for="fp-edit-note">Note</label>
                    <textarea id="fp-edit-note" rows="3" placeholder="Inserisci eventuali dettagli"></textarea>
                </div>
                <div id="fp-edit-message" class="fp-message is-hidden"></div>
                <div class="fp-actions fp-actions--modal">
                    <button type="button" class="fp-btn fp-btn--danger" id="fp-edit-delete">Elimina</button>
                    <button type="button" class="fp-btn fp-btn--ghost" id="fp-edit-cancel">Annulla</button>
                    <button type="submit" class="fp-btn fp-btn--primary">Salva</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
    <script src="../../scripts/utilities/ferie-permessi-scripts.js"></script>
</body>

</html>
